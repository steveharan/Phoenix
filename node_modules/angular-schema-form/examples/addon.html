<!DOCTYPE html>
<html ng-app="addonExample">
  <head>
    <meta charset="utf-8">
    <title>Add-on example</title>

    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap-theme.min.css">


  </head>
  <body ng-controller="exampleCtrl as example" class="container">

    <form sf-schema="example.schema" sf-form="example.form" sf-model="example.model"></>

    <script src="../bower_components/angular/angular.js" charset="utf-8"></script>
    <script src="../bower_components/objectpath/lib/ObjectPath.js"></script>
    <script src="../bower_components/tv4/tv4.js"></script>
    <script src="../dist/schema-form.js" charset="utf-8"></script>
    <script src="../bower_components/angular-schema-form-bootstrap/bootstrap-decorator.min.js"></script>



    <script type="text/javascript">
      angular.module('addonExample', ['schemaForm'])
             .config(function(schemaFormDecoratorsProvider, sfBuilderProvider) {

               // Define the add-on
               schemaFormDecoratorsProvider.defineAddOn(
                 'bootstrapDecorator', // Yeah it's the bootstrap decorator we're extending
                 'alert-input',        // Our clever form type name,
                 'templates/example-template.html', // Our template,
                 sfBuilderProvider.stdBuilders  // We use the standard builder functions.
               );
             })
             .run(function($templateCache) {
               // A template to use, with our custom field option "alertType"
               var template = '<div class="alert alert-{{ form.alertType || \'info\'}}">' +
                              '  <label>{{form.title}}</label>' +

                              '  <input type="text"           ' +
                              // sf-field-model tells the "ngModel" builder to add a ng-model directive to this element
                              '         sf-field-model        ' +
                              // schema-validate directive validates against the JSON Schema
                              '         schema-validate="form">' +

                              // sf-messages displays validation messages
                              '  <div sf-message="form.description"></div>'+
                              '</div>';

               // Add the template to template cache
               $templateCache.put('templates/example-template.html', template);
             }).controller('exampleCtrl', function() {
                this.schema = {
                  type: 'object',
                  properties: {
                    one: {type: 'string', maxLength: 4},
                    two: {type: 'string', maxLength: 4}
                  }
                };

                this.form = [
                  'one', // Let it default to 'text' form type, in the usual decorator.
                  {
                    key: 'two',
                    type: 'alert-input', // Use our add-on
                    alertType: 'danger'
                  }
                ];

             });

    </script>
  </body>
</html>
